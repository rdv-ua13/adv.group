{"version":3,"names":[],"mappings":"","sources":["script.js"],"sourcesContent":["$(document).ready(function () {\r\n    var app = new application();\r\n    app.init();\r\n});\r\n\r\n\r\nfunction application() {\r\n    //variable\r\n    //this.myMap;\r\n}\r\napplication.prototype.init = function () {\r\n    this.initTouch();\r\n    this.checkNavBottomDropmenu();\r\n    this.initSliders();\r\n    this.changeImageUser();\r\n    this.toggleClassBurger();\r\n    this.toggleClassDropMenu();\r\n    this.addMaskedInput();\r\n    this.initRegValidation();\r\n    this.toggleClassBusinessMark();\r\n\r\n    /*this.topMenu();*/\r\n}\r\n\r\n// Mobile device сheck\r\napplication.prototype.initTouch = function () {\r\n    if ('ontouchstart' in document.documentElement) {\r\n        $('html').addClass('touch');\r\n    }\r\n}\r\n// Checking the contents of the navigation menu\r\napplication.prototype.checkNavBottomDropmenu = function () {\r\n    if($(\".nav-bottom__item\").length) {\r\n        $(\".nav-bottom__item\").each(function () {\r\n           $(\".nav-bottom__item\").has(\".nav-bottom__drop\").addClass(\"nav-bottom__item--contains\");\r\n        });\r\n    }\r\n}\r\n// Slider initialization\r\napplication.prototype.initSliders = function () {\r\n    // Partners\r\n    if ($('.js-partners').length) {\r\n        new Swiper(\".js-partners\", {\r\n            slidesPerView: 1,\r\n            slidesPerColumn: 3,\r\n            spaceBetween: 16,\r\n            grabCursor: true,\r\n            mousewheel: true,\r\n            scrollbar: {\r\n                el: \".js-partners .swiper-scrollbar\",\r\n            },\r\n            breakpoints: {\r\n                // when window width is >= {value}px\r\n                768: {\r\n                    slidesPerView: 3,\r\n                    slidesPerColumn: 2,\r\n                    spaceBetween: 24,\r\n                },\r\n            },\r\n        });\r\n    }\r\n\r\n    // Awards\r\n    if ($('.js-awards').length) {\r\n        var swiperAwards = null;\r\n\r\n        function initSwiperAwards () {\r\n            swiperAwards = new Swiper('.js-awards', {\r\n                slidesPerView: 1,\r\n                slidesPerColumn: 3,\r\n                spaceBetween: 16,\r\n                grabCursor: true,\r\n                mousewheel: true,\r\n                scrollbar: {\r\n                    el: \".js-awards .swiper-scrollbar\",\r\n                },\r\n            });\r\n        }\r\n        initSwiperAwards();\r\n\r\n        function reinitSwiperAwards() {\r\n            if (window.matchMedia(\"(min-width:768px)\").matches) {\r\n                swiperAwards.disable();\r\n                swiperAwards.update();\r\n                $(\".js-awards\").addClass(\"disabled\");\r\n\r\n            } else if (window.matchMedia(\"(max-width:767.98px)\").matches) {\r\n                swiperAwards.enable();\r\n                swiperAwards.update();\r\n                $(\".js-awards\").removeClass(\"disabled\");\r\n            }\r\n        }\r\n\r\n        $(window).on('resize', reinitSwiperAwards).trigger('resize');\r\n    }\r\n\r\n    // Vendors\r\n    if ($('.js-vendors').length) {\r\n        new Swiper(\".js-vendors\", {\r\n            slidesPerView: 2,\r\n            grabCursor: true,\r\n            mousewheel: true,\r\n            scrollbar: {\r\n                el: \".js-vendors .swiper-scrollbar\",\r\n            },\r\n            breakpoints: {\r\n                // when window width is >= {value}px\r\n                768: {\r\n                    slidesPerView: 3,\r\n                },\r\n                992: {\r\n                    slidesPerView: 4,\r\n                },\r\n                1440: {\r\n                    slidesPerView: 5,\r\n                },\r\n            },\r\n        });\r\n    }\r\n}\r\n// Сhange the image of the entrance to personal account\r\napplication.prototype.changeImageUser = function () {\r\n    var srcImgKey = \"/build/img/key.png\",\r\n        srcImgUser = \"/build/img/user.png\",\r\n        srcImgCallBlack = \"/build/img/call-black.png\",\r\n        srcImgCallRed = \"/build/img/call.png\";\r\n\r\n    $(window).on(\"resize\", function () {\r\n        if (window.matchMedia(\"(min-width:768px)\").matches) {\r\n            $('.js-user img').attr(\"src\", srcImgKey);\r\n            $('.js-call img').attr(\"src\", srcImgCallRed);\r\n        }\r\n        else if (window.matchMedia(\"(max-width:767.98px)\").matches) {\r\n            $('.js-user img').attr(\"src\", srcImgUser);\r\n            $('.js-call img').attr(\"src\", srcImgCallBlack);\r\n        }\r\n    }).trigger('resize');\r\n}\r\n// Menu-burger button\r\napplication.prototype.toggleClassBurger = function () {\r\n    $(\".menu-btn\").on(\"click\", function () {\r\n        $(this).toggleClass(\"active\");\r\n    });\r\n}\r\n// Menu top \"nav-bottom__drop\"\r\napplication.prototype.toggleClassDropMenu = function () {\r\n    if (window.matchMedia(\"(max-width:767.98px)\").matches) {\r\n        $('.nav-bottom__item--contains .nav-bottom__drop').hide();\r\n\r\n        $('.js-nav-bottom-link').on('click', function () {\r\n            if (!$(this).closest('.nav-bottom__item--contains').hasClass('active')) {\r\n                $(\".nav-bottom__item--contains\").removeClass(\"active\");\r\n                $(\".nav-bottom__drop\").slideUp(300);\r\n                $(this).closest(\".nav-bottom__item--contains\").addClass(\"active\");\r\n                $(this).closest(\".nav-bottom__item--contains\").find('.nav-bottom__drop').slideDown(300);\r\n            }\r\n            else if ($(this).closest('.nav-bottom__item--contains').hasClass('active')) {\r\n                $(this).closest('.nav-bottom__item--contains').removeClass('active');\r\n            }\r\n        });\r\n    } else { return }\r\n}\r\n// Validation of registration form\r\napplication.prototype.initRegValidation = function () {\r\n    $(function() {\r\n        $(\"form.registration\").validate({\r\n            // Specify validation rules\r\n            rules: {\r\n                SURNAME: \"required\",\r\n                NAME: \"required\",\r\n                MIDDLENAME: \"required\",\r\n                PHONE: \"required\",\r\n                EMAIL: {\r\n                    required: true,\r\n                    email: true\r\n                },\r\n                TAXPAYERID: \"required\",\r\n                LEGALNAME: \"required\",\r\n                BRANDNAME: \"required\",\r\n                SITE: \"required\",\r\n            },\r\n            // Specify validation error messages\r\n            messages: {\r\n                SURNAME: \"Поле не заполнено\",\r\n                NAME: \"Поле не заполнено\",\r\n                MIDDLENAME: \"Поле не заполнено\",\r\n                PHONE: \"Поле не заполнено\",\r\n                EMAIL: \"Поле не заполнено\",\r\n                TAXPAYERID: \"Поле не заполнено\",\r\n                LEGALNAME: \"Поле не заполнено\",\r\n                BRANDNAME: \"Поле не заполнено\",\r\n                SITE: \"Поле не заполнено\",\r\n            },\r\n            // Make sure the form is submitted to the destination defined\r\n            // in the \"action\" attribute of the form when valid\r\n            submitHandler: function(form) {\r\n                form.submit();\r\n            }\r\n        });\r\n    });\r\n}\r\n// Business-solutions marks behaviour\r\napplication.prototype.toggleClassBusinessMark = function () {\r\n    if($(\".business-solution .js-item-mark\").length) {\r\n        $(document).on(\"click\", function (e) {\r\n            if(!$(\".business-solution .js-item-mark\").is(e.target)) {\r\n                $(\".business-solution .js-item-mark\").removeClass(\"active\");\r\n                $(\".business-solution__item\").removeClass(\"active\");\r\n            }\r\n        });\r\n\r\n        $(\".business-solution .js-item-mark\").on(\"click\", function () {\r\n            if (!$(this).hasClass(\"active\")) {\r\n                $(\".business-solution .js-item-mark\").removeClass(\"active\");\r\n                $(\".business-solution__item\").removeClass(\"active\");\r\n                $(this).addClass(\"active\");\r\n                $(this).next(\".business-solution__item\").addClass(\"active\");\r\n            } else {\r\n                $(this).removeClass(\"active\");\r\n                $(this).next(\".business-solution__item\").removeClass(\"active\");\r\n            }\r\n        });\r\n\r\n       /* $(\".business-solution .js-item-mark\").on(\"click\", function () {\r\n            if (!$(this).hasClass(\"active\")) {\r\n                $(this).addClass(\"active\");\r\n                $(this).next(\".business-solution__item\").addClass(\"active\");\r\n            } else {\r\n                $(this).removeClass(\"active\");\r\n                $(this).next(\".business-solution__item\").removeClass(\"active\");\r\n            }\r\n        });*/\r\n    }\r\n}\r\n\r\n\r\n// Top menu\r\napplication.prototype.topMenu = function () {\r\n    //desktop\r\n    if (!$('html').hasClass('touch')) {\r\n        // Shows drop-menu when it's parent is hovered.\r\n        $('.js-drop-menu').parent().hover(function () {\r\n            $(this).find('>.js-drop-menu').stop();\r\n            $(this).find('>.js-drop-menu').slideDown(300);\r\n            $(this).addClass('active');\r\n        }, function () {\r\n            $(this).find('>.js-drop-menu').stop();\r\n            $(this).find('>.js-drop-menu').slideUp(150);\r\n            $(this).removeClass('active');\r\n        });\r\n        // Shows drop-submenu when it's parent is hovered.\r\n        $('.js-drop-submenu').parent().hover(function () {\r\n            // Вывод __drop-submenu одинаковой высоты с __drop-menu\r\n            var h = $(this).closest('.js-drop-menu').innerHeight();\r\n            $(this).find('>.js-drop-submenu').css({\r\n                'min-height': h,\r\n            });\r\n\r\n            $(this).find('>.js-drop-submenu').stop();\r\n            $(this).find('>.js-drop-submenu').animate({ width: \"toggle\" });\r\n            $(this).toggleClass('active');\r\n        });\r\n\r\n        if (window.matchMedia(\"(max-width:1199px)\").matches) {\r\n            $('.goods-menu__link').hover(function () {\r\n                $(this).addClass('active');\r\n            }, function () {\r\n                $(this).removeClass('active');\r\n            });\r\n        }\r\n    }\r\n    else //mobile\r\n    {\r\n        $('.header-bottom__menu .goods-menu__link').on('click', function (e) {\r\n            if ($(this).parent().hasClass('active')) return true;\r\n            e.preventDefault();\r\n\r\n            ///////////////\r\n            $('.header-bottom__menu .goods-menu__item.active').each(function (i, el) {\r\n                $(el).removeClass('active');\r\n                $(el).find('.js-drop-menu').slideUp(150);\r\n            });\r\n            $('.header-bottom__menu .goods-menu__drop-menu-item').each(function (i, el) {\r\n                $(el).removeClass('active');\r\n                $(el).find('.js-drop-submenu').hide();\r\n            });\r\n            ///////////////\r\n            $(this).parent().addClass('active');\r\n            $(this).parent().find('>.js-drop-menu').slideDown(300);\r\n        });\r\n\r\n        $('.header-bottom__menu .goods-menu__drop-menu-link').on('click', function (e) {\r\n            if ($(this).parent().hasClass('active')) return true;\r\n            if (!$(this).parent().find('.js-drop-submenu').length) return true;\r\n            e.preventDefault();\r\n\r\n            $('.header-bottom__menu .goods-menu__drop-menu-item').each(function (i, el) {\r\n                $(el).removeClass('active');\r\n                $(el).find('.js-drop-submenu').hide();\r\n            });\r\n\r\n            $(this).parent().addClass('active');\r\n\r\n            $(this).parent().find('.js-drop-submenu').animate({ width: \"toggle\" });\r\n        });\r\n\r\n        $(document).on('click', function (e) {\r\n            if (!$(e.target).closest('.header-bottom__menu').length) {\r\n                $('.header-bottom__menu .goods-menu__item').removeClass('active');\r\n                $('.header-bottom__menu').find('.js-drop-menu').slideUp(150);\r\n            }\r\n        });\r\n    }\r\n}\r\n// Mobile number mask\r\napplication.prototype.addMaskedInput = function () {\r\n    $(\".isPhone\").mask(\"+7 (999) 999-99-99\", { autoclear: false });\r\n}\r\n"],"file":"script.js"}