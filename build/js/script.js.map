{"version":3,"names":[],"mappings":"","sources":["script.js"],"sourcesContent":["$(document).ready(function () {\r\n    var app = new application();\r\n    app.init();\r\n});\r\n\r\n\r\nfunction application() {\r\n    //variable\r\n    //this.myMap;\r\n}\r\napplication.prototype.init = function () {\r\n    this.initTouch();\r\n    this.checkNavBottomDropmenu();\r\n    this.initSliders();\r\n    this.changeImageUser();\r\n    this.toggleClassBurger();\r\n    this.toggleClassDropMenu();\r\n\r\n    /*this.topMenu();\r\n    this.addMaskedInput();*/\r\n}\r\n\r\n// Mobile device сheck\r\napplication.prototype.initTouch = function () {\r\n    if ('ontouchstart' in document.documentElement) {\r\n        $('html').addClass('touch');\r\n    }\r\n}\r\n// Checking the contents of the navigation menu\r\napplication.prototype.checkNavBottomDropmenu = function () {\r\n    if($(\".nav-bottom__item\").length) {\r\n        $(\".nav-bottom__item\").each(function () {\r\n           $(\".nav-bottom__item\").has(\".nav-bottom__drop\").addClass(\"nav-bottom__item--contains\");\r\n        });\r\n    }\r\n}\r\n// Slider initialization\r\napplication.prototype.initSliders = function () {\r\n    // Partners\r\n    if ($('.js-partners').length) {\r\n        new Swiper(\".js-partners\", {\r\n            slidesPerView: 1,\r\n            slidesPerColumn: 3,\r\n            spaceBetween: 16,\r\n            grabCursor: true,\r\n            mousewheel: true,\r\n            scrollbar: {\r\n                el: \".swiper-scrollbar\",\r\n            },\r\n            breakpoints: {\r\n                // when window width is >= {value}px\r\n                768: {\r\n                    slidesPerView: 3,\r\n                    slidesPerColumn: 2,\r\n                    spaceBetween: 24,\r\n                },\r\n            },\r\n        });\r\n    }\r\n\r\n    // Awards\r\n    /*if ($('.js-awards').length) {\r\n        var swiperAwards = new Swiper(\".js-partners\", {\r\n            slidesPerView: 1,\r\n            slidesPerColumn: 3,\r\n            spaceBetween: 16,\r\n            grabCursor: true,\r\n            mousewheel: true,\r\n            scrollbar: {\r\n                el: \".swiper-scrollbar\",\r\n            },\r\n            breakpoints: {\r\n                // when window width is >= {value}px\r\n                768: {\r\n                    slidesPerView: \"auto\",\r\n                    slidesPerColumn: \"auto\",\r\n                    spaceBetween: 0,\r\n                },\r\n            },\r\n        });\r\n    }*/\r\n\r\n    /*if ($('.js-awards').length) {\r\n        let swiperAwards = null;\r\n\r\n        function reinitSwiperAwards() {\r\n            if (window.matchMedia(\"(min-width:768px)\").matches) {\r\n                swiperAwards.destroy().update(1,1);\r\n                swiperAwards = null;\r\n                console.log('first if destr');\r\n            } else if (window.matchMedia(\"(max-width:767.98px)\").matches && swiperAwards === null) {\r\n                swiperAwards = new Swiper('.js-awards', {\r\n                    slidesPerView: 1,\r\n                    slidesPerColumn: 3,\r\n                    spaceBetween: 16,\r\n                    grabCursor: true,\r\n                    mousewheel: true,\r\n                    scrollbar: {\r\n                        el: \".swiper-scrollbar\",\r\n                    },\r\n                    breakpoints: {\r\n                        // when window width is >= {value}px\r\n                        768: {\r\n                            slidesPerView: \"auto\",\r\n                            slidesPerColumn: \"auto\",\r\n                            spaceBetween: 0,\r\n                        },\r\n                    },\r\n                });\r\n                swiperAwards.update(1,1);\r\n                console.log('second if init');\r\n            }\r\n        }\r\n\r\n        reinitSwiperAwards();\r\n        $(window).on('resize', reinitSwiperAwards).trigger('resize');\r\n    }*/\r\n\r\n    // Vendors\r\n    if ($('.js-vendors').length) {\r\n        new Swiper(\".js-vendors\", {\r\n            slidesPerView: 2,\r\n            grabCursor: true,\r\n            mousewheel: true,\r\n            scrollbar: {\r\n                el: \".swiper-scrollbar\",\r\n            },\r\n            breakpoints: {\r\n                // when window width is >= {value}px\r\n                768: {\r\n                    slidesPerView: 5,\r\n                },\r\n            },\r\n        });\r\n    }\r\n}\r\n// Сhange the image of the entrance to personal account\r\napplication.prototype.changeImageUser = function () {\r\n    var srcImgKey = \"/build/img/key.png\",\r\n        srcImgUser = \"/build/img/user.png\",\r\n        srcImgCallBlack = \"/build/img/call-black.png\",\r\n        srcImgCallRed = \"/build/img/call.png\";\r\n\r\n    $(window).on(\"resize\", function () {\r\n        if (window.matchMedia(\"(min-width:768px)\").matches) {\r\n            $('.js-user img').attr(\"src\", srcImgKey);\r\n            $('.js-call img').attr(\"src\", srcImgCallRed);\r\n        }\r\n        else if (window.matchMedia(\"(max-width:767.98px)\").matches) {\r\n            $('.js-user img').attr(\"src\", srcImgUser);\r\n            $('.js-call img').attr(\"src\", srcImgCallBlack);\r\n        }\r\n    }).trigger('resize');\r\n}\r\n// Menu-burger button\r\napplication.prototype.toggleClassBurger = function () {\r\n    $(\".menu-btn\").on(\"click\", function () {\r\n        $(this).toggleClass(\"active\");\r\n    });\r\n}\r\n// Menu top \"nav-bottom__drop\"\r\napplication.prototype.toggleClassDropMenu = function () {\r\n    $('.nav-bottom__item--contains .nav-bottom__drop').hide();\r\n\r\n    $(\".js-nav-bottom-link\").on(\"click\", function () {\r\n        $(this).closest(\".nav-bottom__item--contains\").toggleClass(\"active\");\r\n\r\n        if ($(this).closest('.nav-bottom__item--contains').hasClass('active')) {  $(this).closest('.nav-bottom__item--contains').find('.nav-bottom__drop').slideDown(300);  }\r\n        else {  $(this).closest('.nav-bottom__item--contains').find('.nav-bottom__drop').slideUp(300);  }\r\n    });\r\n}\r\n\r\n\r\n// Top menu\r\napplication.prototype.topMenu = function () {\r\n    //desktop\r\n    if (!$('html').hasClass('touch')) {\r\n        // Shows drop-menu when it's parent is hovered.\r\n        $('.js-drop-menu').parent().hover(function () {\r\n            $(this).find('>.js-drop-menu').stop();\r\n            $(this).find('>.js-drop-menu').slideDown(300);\r\n            $(this).addClass('active');\r\n        }, function () {\r\n            $(this).find('>.js-drop-menu').stop();\r\n            $(this).find('>.js-drop-menu').slideUp(150);\r\n            $(this).removeClass('active');\r\n        });\r\n        // Shows drop-submenu when it's parent is hovered.\r\n        $('.js-drop-submenu').parent().hover(function () {\r\n            // Вывод __drop-submenu одинаковой высоты с __drop-menu\r\n            var h = $(this).closest('.js-drop-menu').innerHeight();\r\n            $(this).find('>.js-drop-submenu').css({\r\n                'min-height': h,\r\n            });\r\n\r\n            $(this).find('>.js-drop-submenu').stop();\r\n            $(this).find('>.js-drop-submenu').animate({ width: \"toggle\" });\r\n            $(this).toggleClass('active');\r\n        });\r\n\r\n        if (window.matchMedia(\"(max-width:1199px)\").matches) {\r\n            $('.goods-menu__link').hover(function () {\r\n                $(this).addClass('active');\r\n            }, function () {\r\n                $(this).removeClass('active');\r\n            });\r\n        }\r\n    }\r\n    else //mobile\r\n    {\r\n        $('.header-bottom__menu .goods-menu__link').on('click', function (e) {\r\n            if ($(this).parent().hasClass('active')) return true;\r\n            e.preventDefault();\r\n\r\n            ///////////////\r\n            $('.header-bottom__menu .goods-menu__item.active').each(function (i, el) {\r\n                $(el).removeClass('active');\r\n                $(el).find('.js-drop-menu').slideUp(150);\r\n            });\r\n            $('.header-bottom__menu .goods-menu__drop-menu-item').each(function (i, el) {\r\n                $(el).removeClass('active');\r\n                $(el).find('.js-drop-submenu').hide();\r\n            });\r\n            ///////////////\r\n            $(this).parent().addClass('active');\r\n            $(this).parent().find('>.js-drop-menu').slideDown(300);\r\n        });\r\n\r\n        $('.header-bottom__menu .goods-menu__drop-menu-link').on('click', function (e) {\r\n            if ($(this).parent().hasClass('active')) return true;\r\n            if (!$(this).parent().find('.js-drop-submenu').length) return true;\r\n            e.preventDefault();\r\n\r\n            $('.header-bottom__menu .goods-menu__drop-menu-item').each(function (i, el) {\r\n                $(el).removeClass('active');\r\n                $(el).find('.js-drop-submenu').hide();\r\n            });\r\n\r\n            $(this).parent().addClass('active');\r\n\r\n            $(this).parent().find('.js-drop-submenu').animate({ width: \"toggle\" });\r\n        });\r\n\r\n        $(document).on('click', function (e) {\r\n            if (!$(e.target).closest('.header-bottom__menu').length) {\r\n                $('.header-bottom__menu .goods-menu__item').removeClass('active');\r\n                $('.header-bottom__menu').find('.js-drop-menu').slideUp(150);\r\n            }\r\n        });\r\n    }\r\n}\r\n// Mobile number mask\r\napplication.prototype.addMaskedInput = function () {\r\n    $(\".isPhone\").mask(\"+7 (999) 999-99-99\", { autoclear: false });\r\n}\r\n"],"file":"script.js"}